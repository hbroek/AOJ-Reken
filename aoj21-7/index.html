<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>07 - Tip Calculator || Advent of JavaScript</title>
    <link rel="stylesheet" href="styles.css" />
</head>

<body>
    <script>

        let billAmount = 100
        let numberOfPeople = 2
        let tipString = '0.15'
        let tip = parseFloat(tipString)
        let totalPerPerson = 0

        const calculate = () => {
            billAmount = parseFloat(billAmount)
            tip = parseFloat(tipString)
            tipAmount = billAmount*tip
            totalPerPerson = (billAmount+tipAmount)/numberOfPeople
        }
        const decimals = (value) => `${Math.floor(value)}.${('00'+(Math.floor(value*100)%100)).slice(-2)}`
        calculate()

    </script>
    <div class="wrapper">

        <div class="tip-amount">
            <div class="label">Tip Amount</div>
            <div class="dollars"><sup>$</sup><span id="tip-amount" data-text="${decimals(tipAmount)}">15.30</span></div>
        </div>
        <div class="total-per-person">
            <div class="label">Total Per Person</div>
            <div class="dollars"><sup>$</sup><span id="total-per-person" data-text="${decimals(totalPerPerson)}">39.11</span></div>
        </div>

        <div class="input-fields">
            <div class="bill-amount">
                <div class="field">
                    <input type="text" id="bill-amount" name="bill-amount" data-value="billAmount" />
                </div>
                <div class="label">Bill Amount</div>
            </div>
            <div class="number-of-people">
                <div class="field">
                    <input type="text" id="number-of-people" name="number-of-people" data-value="numberOfPeople" />
                </div>
                <div class="label">Number of People</div>
            </div>
        </div>

        <div class="tip-percentages">
            <div>
                <input type="radio" name="tip" value="0.05" id="five-percent" data-value="tipString"/>
                <label for="five-percent">
                    5%
                </label>
            </div>
            <div>
                <input type="radio" name="tip" value="0.1" id="ten-percent" data-value="tipString"/>
                <label for="ten-percent">
                    10%
                </label>
            </div>
            <div>
                <input type="radio" name="tip" value="0.15" id="fifteen-percent" data-value="tipString" />
                <label for="fifteen-percent">
                    15%
                </label>
            </div>
            <div>
                <input type="radio" name="tip" value="0.20" id="twenty-percent" data-value="tipString"/>
                <label for="twenty-percent">
                    20%
                </label>
            </div>
        </div>
        <div class="button-wrapper">
            <button id="calculate" data-action="calculate()">Calculate</button>
        </div>
    </div>
    <script src="app.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/hbroek/reken/dist/reken.min.js"></script>
</body>

</html>